zabbix_export:
  version: '5.4'
  date: '2021-05-28T03:14:50Z'
  groups:
    -
      uuid: 57b7ae836ca64446ba2c296389c009b7
      name: Templates/Modules
  templates:
    -
      uuid: 8e5236f799b347a8ae90a979198be85e
      template: 'Squid SNMP'
      name: 'Squid SNMP'
      description: |
        Template for monitoring Squid caching proxy via SNMP
        
        You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/409339-discussion-thread-for-official-zabbix-template-squid
        
        Template tooling version used: 0.38
      groups:
        -
          name: Templates/Modules
      items:
        -
          uuid: 86cc718ce21b4ff9b0a09479ae3fc130
          name: 'Squid: Service ping'
          type: SIMPLE
          key: 'net.tcp.service[tcp,,{$SQUID.HTTP.PORT}]'
          history: 7d
          valuemap:
            name: 'Service state'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 10m
          tags:
            -
              tag: Application
              value: Squid
          triggers:
            -
              uuid: 7e0f0a9e8a9d4f6193946e4f8cd4a2e3
              expression: 'last(/Squid SNMP/net.tcp.service[tcp,,{$SQUID.HTTP.PORT}])=0'
              name: 'Squid: Port {$SQUID.HTTP.PORT} is down'
              priority: AVERAGE
              description: 'Last value: {ITEM.LASTVALUE1}.'
              manual_close: 'YES'
        -
          uuid: 6d7f0f6b0f89462e96e86940b779eb69
          name: 'Squid: CPU usage'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.5.0
          key: 'squid[cacheCpuUsage]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'The percentage use of the CPU'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 960b137ab773492ab3073e108575e4fc
          name: 'Squid: File descriptor count - current used'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.12.0
          key: 'squid[cacheCurrentFileDescrCnt]'
          history: 7d
          value_type: FLOAT
          description: 'Number of file descriptors in use'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 37b45201f8444583b01e0df5af2bc14e
          name: 'Squid: File descriptor count - current maximum'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.13.0
          key: 'squid[cacheCurrentFileDescrMax]'
          history: 7d
          value_type: FLOAT
          description: 'Highest number of file descriptors in use'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 910afdc20767408f90d1bc5b7a9fd6a4
          name: 'Squid: Objects LRU expiration age'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.8.0
          key: 'squid[cacheCurrentLRUExpiration]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'Storage LRU Expiration Age'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 26b8b1a25dc74099b61813905477b414
          name: 'Squid: File descriptor count - current reserved'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.11.0
          key: 'squid[cacheCurrentResFileDescrCnt]'
          history: 7d
          value_type: FLOAT
          description: 'Reserved number of file descriptors'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 35f3009401b6449d95988d9ee7a621a7
          name: 'Squid: Cache swap current size'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.14.0
          key: 'squid[cacheCurrentSwapSize]'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Storage Swap Size'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1048576'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 0789a0fa3e3b42a08a5e5bf8d0307970
          name: 'Squid: Objects unlinkd requests'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.9.0
          key: 'squid[cacheCurrentUnlinkRequests]'
          history: 7d
          value_type: FLOAT
          description: 'Requests given to unlinkd'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 6bc024be663b466ca677941130e11f50
          name: 'Squid: File descriptor count - current available'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.10.0
          key: 'squid[cacheCurrentUnusedFDescrCnt]'
          history: 7d
          value_type: FLOAT
          description: 'Available number of file descriptors'
          tags:
            -
              tag: Application
              value: Squid
          triggers:
            -
              uuid: 40c41c87e46443f886506da5e580657e
              expression: 'last(/Squid SNMP/squid[cacheCurrentUnusedFDescrCnt])<{$SQUID.FILE.DESC.WARN.MIN}'
              name: 'Squid: Squid is running out of file descriptors (<{$SQUID.FILE.DESC.WARN.MIN})'
              priority: WARNING
              description: 'Last value: {ITEM.LASTVALUE1}.'
        -
          uuid: 1aecf10756f949999c8f3fe5ce9c2a32
          name: 'Squid: DNS server replies per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.4.3.2.0
          key: 'squid[cacheDnsReplies]'
          history: 7d
          value_type: FLOAT
          description: 'Number of external dns server replies'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: e5f647c77bdb498e9cc286795bc4077c
          name: 'Squid: DNS server requests per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.4.3.1.0
          key: 'squid[cacheDnsRequests]'
          history: 7d
          value_type: FLOAT
          description: 'Number of external dns server requests'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 3f4366896dd84b8ab78d6e3dc8a6ab63
          name: 'Squid: DNS service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.8.5
          key: 'squid[cacheDnsSvcTime.5]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'DNS service time per 5 minutes'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 99448052f1a34e15a5c042124db7b651
          name: 'Squid: DNS service time per hour'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.8.60
          key: 'squid[cacheDnsSvcTime.60]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'DNS service time per hour'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 0aea1fe702004d65919fc010c971c3b5
          name: 'Squid: FQDN cache hits per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.4.2.3.0
          key: 'squid[cacheFqdnHits]'
          history: 7d
          value_type: FLOAT
          description: 'Number of FQDN Cache hits'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 2dea9b707b844d32b65a2d479ddb7d72
          name: 'Squid: FQDN cache misses per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.4.2.6.0
          key: 'squid[cacheFqdnMisses]'
          history: 7d
          value_type: FLOAT
          description: 'Number of FQDN Cache misses'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 1dad3f381c174b869c73f55cd831b40a
          name: 'Squid: FQDN cache requests per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.4.2.2.0
          key: 'squid[cacheFqdnRequests]'
          history: 7d
          value_type: FLOAT
          description: 'Number of FQDN Cache requests'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 633a70cd41c44f2c895148a7ae394acd
          name: 'Squid: HTTP all service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.2.5
          key: 'squid[cacheHttpAllSvcTime.5]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'HTTP all service time per 5 minutes'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: d3aa021743134d97af9dd8840b0ef692
          name: 'Squid: HTTP all service time per hour'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.2.60
          key: 'squid[cacheHttpAllSvcTime.60]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'HTTP all service time per hour'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 7f5bd8f89ea0495ea87c294fb8c606dd
          name: 'Squid: HTTP Errors sent per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.3.0
          key: 'squid[cacheHttpErrors]'
          history: 7d
          value_type: FLOAT
          description: 'Number of HTTP Errors sent to clients'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 0c4fd7c154a44442a3cec82ba4026b7d
          name: 'Squid: HTTP miss service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.5.5
          key: 'squid[cacheHttpHitSvcTime.5]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'HTTP hit service time per 5 minutes'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: a642c99d6c3f4f5e8ec218459fd76f04
          name: 'Squid: HTTP hit service time per hour'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.5.60
          key: 'squid[cacheHttpHitSvcTime.60]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'HTTP hit service time per hour'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: adfe3e2fc775400991d2ea2f06218daf
          name: 'Squid: HTTP Hits sent from cache per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.2.0
          key: 'squid[cacheHttpHits]'
          history: 7d
          value_type: FLOAT
          description: 'Number of HTTP Hits sent to clients from cache'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: f2366a6008cb4dc7856904ea5c6631dd
          name: 'Squid: HTTP traffic received per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.4.0
          key: 'squid[cacheHttpInKb]'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Number of HTTP traffic received from clients'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: f8fa271a272442369b6cbc4fb1a2decc
          name: 'Squid: HTTP miss service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.3.5
          key: 'squid[cacheHttpMissSvcTime.5]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'HTTP miss service time per 5 minutes'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 23e5a3bd6e9a4c50a7d54336a6afc1e1
          name: 'Squid: HTTP miss service time per hour'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.3.60
          key: 'squid[cacheHttpMissSvcTime.60]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'HTTP miss service time per hour'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: ff6b7946363d44bba5721c82c8f84df7
          name: 'Squid: HTTP traffic sent per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.5.0
          key: 'squid[cacheHttpOutKb]'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Number of HTTP traffic sent to clients'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: bde307ead15d48859a97e35e52327d50
          name: 'Squid: ICP traffic received per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.9.0
          key: 'squid[cacheIcpKbRecv]'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Number of ICP traffic received'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 7234b612b50a45e0a1bb69654e2e784d
          name: 'Squid: ICP traffic transmitted per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.8.0
          key: 'squid[cacheIcpKbSent]'
          history: 7d
          value_type: FLOAT
          units: Bps
          description: 'Number of ICP traffic transmitted'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 9ee83c13fa6d41dfb8bfea91c02341b9
          name: 'Squid: ICP messages received per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.7.0
          key: 'squid[cacheIcpPktsRecv]'
          history: 7d
          value_type: FLOAT
          description: 'Number of ICP messages received'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: dee7d8cf211b4ad0a645a8d6d4f24c31
          name: 'Squid: ICP messages sent per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.6.0
          key: 'squid[cacheIcpPktsSent]'
          history: 7d
          value_type: FLOAT
          description: 'Number of ICP messages sent'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: cb9d0c300beb47568e99ff7966e1b10e
          name: 'Squid: ICP query service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.6.5
          key: 'squid[cacheIcpQuerySvcTime.5]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'ICP query service time per 5 minutes'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 9130a0bc53144fe992b701aa9159ff70
          name: 'Squid: ICP query service time per hour'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.6.60
          key: 'squid[cacheIcpQuerySvcTime.60]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'ICP query service time per hour'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 35a7585432b3467585ff98b23e610d82
          name: 'Squid: ICP reply service time per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.7.5
          key: 'squid[cacheIcpReplySvcTime.5]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'ICP reply service time per 5 minutes'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 94eab55af41a465196588d08acbacb56
          name: 'Squid: ICP reply service time per hour'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.7.60
          key: 'squid[cacheIcpReplySvcTime.60]'
          history: 7d
          value_type: FLOAT
          units: s
          description: 'ICP reply service time per hour'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.001'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: c5409583483e4024aabaab500bcb637a
          name: 'Squid: IP cache hits per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.4.1.3.0
          key: 'squid[cacheIpHits]'
          history: 7d
          value_type: FLOAT
          description: 'Number of IP Cache hits'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 8e474d2fd410472bb03024d2a2361b5d
          name: 'Squid: IP cache misses per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.4.1.6.0
          key: 'squid[cacheIpMisses]'
          history: 7d
          value_type: FLOAT
          description: 'Number of IP Cache misses'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: dc837a887c3c463a9011d923dbbfbc0f
          name: 'Squid: IP cache requests per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.4.1.2.0
          key: 'squid[cacheIpRequests]'
          history: 7d
          value_type: FLOAT
          description: 'Number of IP Cache requests'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 70786920f94f41eeb0fc525c2e6431cf
          name: 'Squid: Memory maximum resident size'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.6.0
          key: 'squid[cacheMaxResSize]'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Maximum Resident Size'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: d84c3a3633784f77bf9375bf59da490b
          name: 'Squid: Memory maximum cache size'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.2.5.1.0
          key: 'squid[cacheMemMaxSize]'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'The value of the cache_mem parameter'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1048576'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: c14fe87f87ca48f39bbe765db60e0a41
          name: 'Squid: Memory cache usage'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.3.0
          key: 'squid[cacheMemUsage]'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'Total accounted memory'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1024'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 387bbd61d3bd469baa6c560afe8a18ae
          name: 'Squid: Objects count'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.7.0
          key: 'squid[cacheNumObjCount]'
          history: 7d
          value_type: FLOAT
          description: 'Number of objects stored by the cache'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 1e648a20db904e92ae4ec0c3f9037a99
          name: 'Squid: HTTP requests received per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.1.1.0
          key: 'squid[cacheProtoClientHttpRequests]'
          history: 7d
          value_type: FLOAT
          description: 'Number of HTTP requests received'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 31f3e3bb57d645ff8df6b9b8d1b70a49
          name: 'Squid: Byte hit ratio per 1 minute'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.10.1
          key: 'squid[cacheRequestByteRatio.1]'
          history: 7d
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: e19775b9c83648d58655a1130c5771e4
          name: 'Squid: Byte hit ratio per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.10.5
          key: 'squid[cacheRequestByteRatio.5]'
          history: 7d
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: ffb3fc17631f4cd6b55ed6eefd2e6cea
          name: 'Squid: Byte hit ratio per 1 hour'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.10.60
          key: 'squid[cacheRequestByteRatio.60]'
          history: 7d
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: a4ba5af69dd64fd8acf707ee1eaaeb32
          name: 'Squid: Request hit ratio per 1 minute'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.9.1
          key: 'squid[cacheRequestHitRatio.1]'
          history: 7d
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: b5ae7935e9be40e18c3020820a7865c7
          name: 'Squid: Request hit ratio per 5 minutes'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.9.5
          key: 'squid[cacheRequestHitRatio.5]'
          history: 7d
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: b09f7a1d9dc340b88106016586099dba
          name: 'Squid: Request hit ratio per 1 hour'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.2.2.1.9.60
          key: 'squid[cacheRequestHitRatio.60]'
          history: 7d
          value_type: FLOAT
          description: 'Byte Hit Ratios'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 69e4fb088c6949ac94eabcb892df46ab
          name: 'Squid: Cache swap high water mark'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.2.5.3.0
          key: 'squid[cacheSwapHighWM]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Cache Swap High Water Mark'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 221e583d7cf2455b9d848462de4b1e9a
          name: 'Squid: Cache swap low water mark'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.2.5.4.0
          key: 'squid[cacheSwapLowWM]'
          history: 7d
          value_type: FLOAT
          units: '%'
          description: 'Cache Swap Low Water Mark'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 215aefddd30e41aea54e30678f290215
          name: 'Squid: Cache swap directory size'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.2.5.2.0
          key: 'squid[cacheSwapMaxSize]'
          history: 7d
          value_type: FLOAT
          units: B
          description: 'The total of the cache_dir space allocated'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '1048576'
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 38ad99f9b30c4d729030ceab6575f4f5
          name: 'Squid: Sys page faults per second'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.3.1.1.0
          key: 'squid[cacheSysPageFaults]'
          history: 7d
          value_type: FLOAT
          description: 'Page faults with physical I/O'
          preprocessing:
            -
              type: CHANGE_PER_SECOND
              parameters:
                - ''
          tags:
            -
              tag: Application
              value: Squid
        -
          uuid: 67460731d9c94166870874239c9a60da
          name: 'Squid: Uptime'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.1.3.0
          key: 'squid[cacheUptime]'
          delay: 5m
          history: 7d
          units: s
          description: 'The Uptime of the cache in timeticks (in hundredths of a second) with preprocessing'
          preprocessing:
            -
              type: MULTIPLIER
              parameters:
                - '0.01'
          tags:
            -
              tag: Application
              value: Squid
          triggers:
            -
              uuid: 89efc9400197427fa718395286dd3583
              expression: 'last(/Squid SNMP/squid[cacheUptime])<10m'
              name: 'Squid: Squid has been restarted (uptime < 10m)'
              priority: INFO
              description: |
                Uptime is less than 10 minutes.
                Last value: {ITEM.LASTVALUE1}.
              manual_close: 'YES'
        -
          uuid: d7c7f0faa1f64745be774e30e6f0b68f
          name: 'Squid: Version'
          type: SNMP_AGENT
          snmp_oid: 1.3.6.1.4.1.3495.1.2.3.0
          key: 'squid[cacheVersionId]'
          history: 7d
          trends: '0'
          value_type: TEXT
          description: 'Cache Software Version'
          preprocessing:
            -
              type: DISCARD_UNCHANGED_HEARTBEAT
              parameters:
                - 6h
          tags:
            -
              tag: Application
              value: Squid
          triggers:
            -
              uuid: c5991152d2da4df7ae0d978233c5a859
              expression: '(last(/Squid SNMP/squid[cacheVersionId],#1)<>last(/Squid SNMP/squid[cacheVersionId],#2))=1 and length(last(/Squid SNMP/squid[cacheVersionId]))>0'
              name: 'Squid: Squid version has been changed'
              priority: INFO
              description: |
                Squid version has changed. Ack to close.
                Last value: {ITEM.LASTVALUE1}.
              manual_close: 'YES'
      macros:
        -
          macro: '{$SQUID.FILE.DESC.WARN.MIN}'
          value: '100'
          description: 'The threshold for minimum number of avaliable file descriptors'
        -
          macro: '{$SQUID.HTTP.PORT}'
          value: '3128'
          description: 'http_port configured in squid.conf (Default: 3128)'
        -
          macro: '{$SQUID.PAGE.FAULT.WARN}'
          value: '90'
          description: 'The threshold for sys page faults rate in percent of recieved HTTP requests'
        -
          macro: '{$SQUID.SNMP.COMMUNITY}'
          value: public
          description: 'SNMP community allowed by ACL in squid.conf'
        -
          macro: '{$SQUID.SNMP.PORT}'
          value: '3401'
          description: 'snmp_port configured in squid.conf (Default: 3401)'
      valuemaps:
        -
          uuid: 1bd791d250e441aeb1c73e499d96e98e
          name: 'Service state'
          mappings:
            -
              value: '0'
              newvalue: Down
            -
              value: '1'
              newvalue: Up
  triggers:
    -
      uuid: 35a14ac9d4774cefa83e24a5a2ec1780
      expression: 'avg(/Squid SNMP/squid[cacheSysPageFaults],5m)>avg(/Squid SNMP/squid[cacheProtoClientHttpRequests],5m)/100*{$SQUID.PAGE.FAULT.WARN}'
      name: 'Squid: High sys page faults rate (>{$SQUID.PAGE.FAULT.WARN}% of recieved HTTP requests)'
      priority: WARNING
      description: 'Last value: {ITEM.LASTVALUE1}.'
    -
      uuid: 5676f1e02dc7413fb1a34543ccaf1384
      expression: 'last(/Squid SNMP/squid[cacheCurrentSwapSize])>last(/Squid SNMP/squid[cacheSwapHighWM])*last(/Squid SNMP/squid[cacheSwapMaxSize])/100'
      name: 'Squid: Swap usage is more than high watermark (>{ITEM.VALUE2}%)'
      opdata: 'Used: {ITEM.LASTVALUE1}'
      priority: HIGH
      description: 'Last value: {ITEM.LASTVALUE1}.'
    -
      uuid: 2cf87472ebf74239bb782580448f696c
      expression: 'last(/Squid SNMP/squid[cacheCurrentSwapSize])>last(/Squid SNMP/squid[cacheSwapLowWM])*last(/Squid SNMP/squid[cacheSwapMaxSize])/100'
      name: 'Squid: Swap usage is more than low watermark (>{ITEM.VALUE2}%)'
      opdata: 'Used: {ITEM.LASTVALUE1}'
      priority: WARNING
      description: 'Last value: {ITEM.LASTVALUE1}.'
  graphs:
    -
      uuid: d8bb2c1dac8a4cb5999d29227a8510e6
      name: 'Squid: DNS lookup statistics'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheDnsRequests]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheDnsReplies]'
    -
      uuid: e301cc76e0ff4e22bc66a46b19230c33
      name: 'Squid: Domain name (FQDN) cache ctatistics'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheFqdnRequests]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheFqdnHits]'
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheFqdnMisses]'
    -
      uuid: 22556883f0a04b6999013d1a5ce58382
      name: 'Squid: File descriptor usage'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheCurrentFileDescrCnt]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheCurrentUnusedFDescrCnt]'
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheCurrentResFileDescrCnt]'
    -
      uuid: 647af850b9914d7b803c7f509f4c4f71
      name: 'Squid: HTTP Traffic'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheHttpInKb]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheHttpOutKb]'
    -
      uuid: c3d9ac16b3e24067b1041b93ee8aaebe
      name: 'Squid: IP address cache statistics'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheIpRequests]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheIpHits]'
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheIpMisses]'
    -
      uuid: 7b9f0d0f6558432b83375e2fcd082812
      name: 'Squid: Memory'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheMaxResSize]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheMemMaxSize]'
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheMemUsage]'
    -
      uuid: d4b916fb3ea14e55b3e9799b85d8e40b
      name: 'Squid: Objects cache statistics'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheNumObjCount]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheCurrentUnlinkRequests]'
    -
      uuid: af823298924d47b09e17eeff093da448
      name: 'Squid: Service timing statistics'
      graph_items:
        -
          color: 1A7C11
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheHttpAllSvcTime.5]'
        -
          sortorder: '1'
          color: 2774A4
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheHttpAllSvcTime.60]'
        -
          sortorder: '2'
          color: F63100
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheHttpMissSvcTime.5]'
        -
          sortorder: '3'
          color: A54F10
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheHttpMissSvcTime.60]'
        -
          sortorder: '4'
          color: FC6EA3
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheHttpHitSvcTime.5]'
        -
          sortorder: '5'
          color: 6C59DC
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheHttpHitSvcTime.60]'
        -
          sortorder: '6'
          color: AC8C14
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheIcpQuerySvcTime.5]'
        -
          sortorder: '7'
          color: 611F27
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheIcpQuerySvcTime.60]'
        -
          sortorder: '8'
          color: F230E0
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheIcpReplySvcTime.5]'
        -
          sortorder: '9'
          color: FFAD40
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheIcpReplySvcTime.60]'
        -
          sortorder: '10'
          color: 40CDFF
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheDnsSvcTime.5]'
        -
          sortorder: '11'
          color: 40FFA0
          item:
            host: 'Squid SNMP'
            key: 'squid[cacheDnsSvcTime.60]'
